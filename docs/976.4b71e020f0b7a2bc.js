"use strict";(self.webpackChunkshd_angular_demo=self.webpackChunkshd_angular_demo||[]).push([[976],{9976:(Ne,I,k)=>{k.r(I),k.d(I,{LaunchesModule:()=>Be});var N=k(520),d=k(2323),R=k(6642),t=k(5e3);let q=(()=>{class e{constructor(n){this.http=n,this.baseUrl="https://ll.thespacedevs.com/2.0.0/launch/"}getLaunches(n=0){return this.http.get(this.baseUrl,{params:{format:"json",offset:n}})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(N.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),C=(()=>{class e{constructor(n){this.http=n,this.baseUrl="https://ll.thespacedevs.com/2.0.0/config/launcher/"}getRocket(n){return this.http.get(`${this.baseUrl}${n}`,{params:{format:"json"}})}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(N.eN))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const ne=[q,C];var a=(()=>{return(e=a||(a={}))[e.EntitiesOnly=0]="EntitiesOnly",e[e.Both=1]="Both",e[e.None=2]="None",a;var e})();function p(e){return function(n,h){const g={ids:[...h.ids],entities:Object.assign({},h.entities)},O=e(n,g);return O===a.Both?Object.assign({},h,g):O===a.EntitiesOnly?Object.assign(Object.assign({},h),{entities:g.entities}):h}}function M(e,s){const n=s(e);return(0,t.X6Q)()&&void 0===n&&console.warn("@ngrx/entity: The entity passed to the `selectId` implementation returned undefined.","You should probably provide your own `selectId` implementation.","The entity that was passed:",e,"The `selectId` implementation:",s.toString()),n}function K(e){function s(l,i){const o=M(l,e);return o in i.entities?a.None:(i.ids.push(o),i.entities[o]=l,a.Both)}function n(l,i){let o=!1;for(const c of l)o=s(c,i)!==a.None||o;return o?a.Both:a.None}function g(l,i){const o=M(l,e);return o in i.entities?(i.entities[o]=l,a.EntitiesOnly):(i.ids.push(o),i.entities[o]=l,a.Both)}function b(l,i){const c=(l instanceof Array?l:i.ids.filter(r=>l(i.entities[r]))).filter(r=>r in i.entities).map(r=>delete i.entities[r]).length>0;return c&&(i.ids=i.ids.filter(r=>r in i.entities)),c?a.Both:a.None}function w(l,i){return S([l],i)}function S(l,i){const o={};return(l=l.filter(r=>r.id in i.entities)).length>0?l.filter(u=>function P(l,i,o){const r=Object.assign({},o.entities[i.id],i.changes),u=M(r,e),f=u!==i.id;return f&&(l[i.id]=u,delete o.entities[i.id]),o.entities[u]=r,f}(o,u,i)).length>0?(i.ids=i.ids.map(u=>o[u]||u),a.Both):a.EntitiesOnly:a.None}function j(l,i){const o=[],c=[];for(const f of l){const m=M(f,e);m in i.entities?c.push({id:m,changes:f}):o.push(f)}const r=S(c,i),u=n(o,i);switch(!0){case u===a.None&&r===a.None:return a.None;case u===a.Both||r===a.Both:return a.Both;default:return a.EntitiesOnly}}return{removeAll:function F(l){return Object.assign({},l,{ids:[],entities:{}})},addOne:p(s),addMany:p(n),setAll:p(function h(l,i){return i.ids=[],i.entities={},n(l,i),a.Both}),setOne:p(g),setMany:p(function O(l,i){const o=l.map(c=>g(c,i));switch(!0){case o.some(c=>c===a.Both):return a.Both;case o.some(c=>c===a.EntitiesOnly):return a.EntitiesOnly;default:return a.None}}),updateOne:p(w),updateMany:p(S),upsertOne:p(function x(l,i){return j([l],i)}),upsertMany:p(j),removeOne:p(function y(l,i){return b([l],i)}),removeMany:p(b),map:p(function Z(l,i){return S(i.ids.reduce((r,u)=>{const f=l(i.entities[u]);return f!==i.entities[u]&&r.push({id:u,changes:f}),r},[]).filter(({id:r})=>r in i.entities),i)}),mapOne:p(function _({map:l,id:i},o){const c=o.entities[i];return c?w({id:i,changes:l(c)},o):a.None})}}const U=function re(e={}){var s,n;const{selectId:h,sortComparer:g}={selectId:null!==(s=e.selectId)&&void 0!==s?s:F=>F.id,sortComparer:null!==(n=e.sortComparer)&&void 0!==n&&n},O=function se(){return{getInitialState:function e(s={}){return Object.assign({ids:[],entities:{}},s)}}}(),y=function oe(){return{getSelectors:function e(s){const n=y=>y.ids,h=y=>y.entities,g=(0,d.P1)(n,h,(y,b)=>y.map(F=>b[F])),O=(0,d.P1)(n,y=>y.length);return s?{selectIds:(0,d.P1)(s,n),selectEntities:(0,d.P1)(s,h),selectAll:(0,d.P1)(s,g),selectTotal:(0,d.P1)(s,O)}:{selectIds:n,selectEntities:h,selectAll:g,selectTotal:O}}}}(),b=g?function ie(e,s){const{removeOne:n,removeMany:h,removeAll:g}=K(e);function O(o,c){return y([o],c)}function y(o,c){const r=o.filter(u=>!(M(u,e)in c.entities));return 0===r.length?a.None:(i(r,c),a.Both)}function F(o,c){const r=M(o,e);return r in c.entities?(c.ids=c.ids.filter(u=>u!==r),i([o],c),a.Both):O(o,c)}function w(o,c){return Z([o],c)}function Z(o,c){const r=[],u=o.filter(f=>function S(o,c,r){if(!(c.id in r.entities))return!1;const f=Object.assign({},r.entities[c.id],c.changes),m=M(f,e);return delete r.entities[c.id],o.push(f),m!==c.id}(r,f,c)).length>0;if(0===r.length)return a.None;{const f=c.ids,m=[];return c.ids=c.ids.filter((L,E)=>L in c.entities||(m.push(E),!1)),i(r,c),!u&&m.every(L=>c.ids[L]===f[L])?a.EntitiesOnly:a.Both}}function l(o,c){const r=[],u=[];for(const L of o){const E=M(L,e);E in c.entities?u.push({id:E,changes:L}):r.push(L)}const f=Z(u,c),m=y(r,c);switch(!0){case m===a.None&&f===a.None:return a.None;case m===a.Both||f===a.Both:return a.Both;default:return a.EntitiesOnly}}function i(o,c){o.sort(s);const r=[];let u=0,f=0;for(;u<o.length&&f<c.ids.length;){const m=o[u],L=M(m,e),E=c.ids[f];s(m,c.entities[E])<=0?(r.push(L),u++):(r.push(E),f++)}c.ids=r.concat(u<o.length?o.slice(u).map(e):c.ids.slice(f)),o.forEach((m,L)=>{c.entities[e(m)]=m})}return{removeOne:n,removeMany:h,removeAll:g,addOne:p(O),updateOne:p(w),upsertOne:p(function j(o,c){return l([o],c)}),setAll:p(function b(o,c){return c.entities={},c.ids=[],y(o,c),a.Both}),setOne:p(F),setMany:p(function P(o,c){const r=o.map(u=>F(u,c));switch(!0){case r.some(u=>u===a.Both):return a.Both;case r.some(u=>u===a.EntitiesOnly):return a.EntitiesOnly;default:return a.None}}),addMany:p(y),updateMany:p(Z),upsertMany:p(l),map:p(function _(o,c){return Z(c.ids.reduce((u,f)=>{const m=o(c.entities[f]);return m!==c.entities[f]&&u.push({id:f,changes:m}),u},[]),c)}),mapOne:p(function x({map:o,id:c},r){const u=r.entities[c];return u?w({id:c,changes:o(u)},r):a.None})}}(h,g):K(h);return Object.assign(Object.assign(Object.assign({selectId:h,sortComparer:g},O),y),b)}({selectId:e=>e.id}),ue=U.getInitialState({loading:!1,error:null});var A=(()=>{return(e=A||(A={})).getLaunches="[Launches]: get multiple",e.getLaunchesSucces="[Launches]: get multiple: succes",e.getLaunchesFailed="[Launches]: get multiple: failed",A;var e})();const Y=(0,d.PH)(A.getLaunches,(0,d.Ky)()),$=(0,d.PH)(A.getLaunchesSucces,(0,d.Ky)()),G=(0,d.PH)(A.getLaunchesFailed,(0,d.Ky)()),le=(0,d.Lq)(ue,(0,d.on)(Y,e=>Object.assign(Object.assign({},e),{loading:!0})),(0,d.on)($,(e,{results:s})=>U.upsertMany(s,Object.assign(Object.assign({},e),{loading:!1,error:null}))),(0,d.on)(G,(e,{error:s})=>Object.assign(Object.assign({},e),{loading:!1,error:s})));function de(e,s){return le(e,s)}var J=k(3900),z=k(4004),H=k(262),Q=k(9646);let he=(()=>{class e{constructor(n,h){this.actions$=n,this.launch=h,this.getLaunches$=(0,R.GW)(()=>this.actions$.pipe((0,R.l4)(A.getLaunches),(0,J.w)(({offset:g})=>this.launch.getLaunches(g).pipe((0,z.U)(({results:O})=>$({results:O})),(0,H.K)(O=>(0,Q.of)(G({error:O})))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(R.eX),t.LFG(q))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();var v=(()=>{return(e=v||(v={})).getRocket="[Rocket]: get one",e.clearRocket="[Rocket]: clear one",e.getRocketSuccess="[Rocket]: get one: success",e.getRocketFailed="[Rocket]: get one: failed",v;var e})();const D=(0,d.PH)(v.getRocket,(0,d.Ky)()),fe=(0,d.PH)(v.clearRocket),X=(0,d.PH)(v.getRocketSuccess,(0,d.Ky)()),W=(0,d.PH)(v.getRocketFailed,(0,d.Ky)()),V={rocket:null,loading:!1,error:null},pe=(0,d.Lq)(V,(0,d.on)(D,e=>Object.assign(Object.assign({},e),{loading:!0})),(0,d.on)(X,(e,{rocket:s})=>({rocket:s,loading:!1,error:null})),(0,d.on)(fe,()=>V),(0,d.on)(W,(e,{error:s})=>Object.assign(Object.assign({},e),{loading:!1,error:s}))),ge=(e,s)=>pe(e,s);let ye=(()=>{class e{constructor(n,h,g){this.actions$=n,this.store$=h,this.pageRocket=g,this.getRocket$=(0,R.GW)(()=>this.actions$.pipe((0,R.l4)(v.getRocket),(0,J.w)(({id:O})=>this.pageRocket.getRocket(O).pipe((0,z.U)(y=>X({rocket:y})),(0,H.K)(y=>(0,Q.of)(W({error:y})))))))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(R.eX),t.LFG(d.yh),t.LFG(C))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})(),me=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[ne],imports:[[N.JF,d.Aw.forFeature("launch",de),d.Aw.forFeature("rocket",ge),R.sQ.forFeature([he,ye])]]}),e})();var T=k(9808);let Oe=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[T.ez],T.ez]}),e})();var B=k(6004),ke=k(9300);const{selectAll:Le}=U.getSelectors(),Me=(0,d.ZF)("launch");let ee=(()=>{class e{constructor(n){this.store=n,this._selectAll=(0,d.P1)(Me,Le)}getLaunches(n=0){this.store.dispatch(Y({offset:n}))}selectLaunches(){return this.store.select(this._selectAll).pipe((0,ke.h)(n=>Array.isArray(n)))}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(d.yh))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();const ve=function(e){return["rocket",e]};function be(e,s){if(1&e&&(t.TgZ(0,"tr",2)(1,"td"),t._uU(2),t.qZA(),t.TgZ(3,"td"),t._uU(4),t.qZA(),t.TgZ(5,"td"),t._uU(6),t.ALo(7,"date"),t.qZA(),t.TgZ(8,"td"),t._uU(9),t.ALo(10,"date"),t.qZA(),t.TgZ(11,"td")(12,"a",3),t._uU(13),t.qZA()()()),2&e){const n=s.$implicit;t.xp6(2),t.Oqu(n.name),t.xp6(2),t.Oqu(null==n.status?null:n.status.name),t.xp6(2),t.Oqu(t.xi3(7,6,n.window_start,"long")),t.xp6(3),t.Oqu(t.xi3(10,9,n.window_end,"long")),t.xp6(3),t.Q6J("routerLink",t.VKq(12,ve,null==n.rocket?null:n.rocket.configuration.id)),t.xp6(1),t.Oqu(null==n.rocket||null==n.rocket.configuration?null:n.rocket.configuration.full_name)}}let Fe=(()=>{class e{constructor(){this.launches=[]}}return e.\u0275fac=function(n){return new(n||e)},e.\u0275cmp=t.Xpm({type:e,selectors:[["app-launch-table"]],inputs:{launches:"launches"},decls:15,vars:1,consts:[[1,"table"],["class","table__content-row",4,"ngFor","ngForOf"],[1,"table__content-row"],[3,"routerLink"]],template:function(n,h){1&n&&(t.TgZ(0,"table",0)(1,"thead")(2,"tr")(3,"th"),t._uU(4,"Name"),t.qZA(),t.TgZ(5,"th"),t._uU(6,"Status"),t.qZA(),t.TgZ(7,"th"),t._uU(8,"Start"),t.qZA(),t.TgZ(9,"th"),t._uU(10,"End"),t.qZA(),t.TgZ(11,"th"),t._uU(12,"Rocket name"),t.qZA()()(),t.TgZ(13,"tbody"),t.YNc(14,be,14,14,"tr",1),t.qZA()()),2&n&&(t.xp6(14),t.Q6J("ngForOf",h.launches))},directives:[T.sg,B.yS],pipes:[T.uU],encapsulation:2,changeDetection:0}),e})(),Re=(()=>{class e{constructor(n){this.launchFacade=n,this.launchesOffset=0}ngOnInit(){this.getLaunches(),this.launches$=this.launchFacade.selectLaunches()}getLaunches(){this.launchFacade.getLaunches(this.launchesOffset),this.launchesOffset=this.launchesOffset+10}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(ee))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:7,vars:3,consts:[[1,"title"],[3,"launches"],[1,"container","container","mt-5","is-flex","is-justify-content-flex-end"],[1,"button","is-primary",3,"click"]],template:function(n,h){1&n&&(t.TgZ(0,"h1",0),t._uU(1,"Launches"),t.qZA(),t._UZ(2,"app-launch-table",1),t.ALo(3,"async"),t.TgZ(4,"div",2)(5,"button",3),t.NdJ("click",function(){return h.getLaunches()}),t._uU(6,"Get more launches"),t.qZA()()),2&n&&(t.xp6(2),t.Q6J("launches",t.lcZ(3,1,h.launches$)))},directives:[Fe],pipes:[T.Ov],encapsulation:2}),e})();const Ae=(0,d.ZF)("rocket");let te=(()=>{class e{constructor(n){this.store=n,this._selectOne=(0,d.P1)(Ae,h=>h.rocket)}getRocket(n){this.store.dispatch(D({id:n}))}selectRocket(){return this.store.select(this._selectOne)}}return e.\u0275fac=function(n){return new(n||e)(t.LFG(d.yh))},e.\u0275prov=t.Yz7({token:e,factory:e.\u0275fac}),e})();function Te(e,s){if(1&e&&(t.TgZ(0,"p",3)(1,"a",5),t._uU(2),t.qZA()()),2&e){const n=t.oxw().ngIf;t.xp6(1),t.Q6J("href",n.wiki_url,t.LSH),t.xp6(1),t.hij("",n.name," on Wikipedia")}}function Ee(e,s){if(1&e&&(t.ynx(0),t.TgZ(1,"section",1)(2,"h1",2),t._uU(3),t.qZA(),t.TgZ(4,"p",3),t._uU(5),t.qZA(),t.YNc(6,Te,3,2,"p",4),t.qZA(),t.BQk()),2&e){const n=s.ngIf;t.xp6(3),t.Oqu(n.name),t.xp6(2),t.Oqu(n.description),t.xp6(1),t.Q6J("ngIf",n.wiki_url)}}const Se=[{path:"",component:Re},{path:"rocket/:id",component:(()=>{class e{constructor(n,h){this.rocketFacade=n,this.route=h}ngOnInit(){const n=this.route.snapshot.paramMap.get("id");this.rocketFacade.getRocket(parseInt(n)),this.rocket$=this.rocketFacade.selectRocket()}}return e.\u0275fac=function(n){return new(n||e)(t.Y36(te),t.Y36(B.gz))},e.\u0275cmp=t.Xpm({type:e,selectors:[["ng-component"]],decls:2,vars:3,consts:[[4,"ngIf"],[1,"section"],[1,"title"],[1,"block"],["class","block",4,"ngIf"],["target","_blank",3,"href"]],template:function(n,h){1&n&&(t.YNc(0,Ee,7,3,"ng-container",0),t.ALo(1,"async")),2&n&&t.Q6J("ngIf",t.lcZ(1,1,h.rocket$))},directives:[T.O5],pipes:[T.Ov],encapsulation:2}),e})()}];let Ze=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({imports:[[B.Bz.forChild(Se)],B.Bz]}),e})();const we=[ee,te];let Be=(()=>{class e{}return e.\u0275fac=function(n){return new(n||e)},e.\u0275mod=t.oAB({type:e}),e.\u0275inj=t.cJS({providers:[we],imports:[[Ze,me,Oe]]}),e})()}}]);